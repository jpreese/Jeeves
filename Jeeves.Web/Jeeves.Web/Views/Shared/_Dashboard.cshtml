@model IEnumerable<Jeeves.Web.Models.Temperature>
@using Jeeves.Web.Models

@{
    ViewBag.Title = "Dashboard";
}

<div class="container">

    @if(ViewBag.Notification.NotificationType == NotificationType.Alert)
    { 
        @:<div class="panel panel-danger">
    }

    @if(ViewBag.Notification.NotificationType == NotificationType.Information)
    {
        @:<div class="panel panel-success">
    }
        <div class="panel-heading">
            <h3 class="panel-title"><i class="fa fa-heartbeat">&nbsp;</i>System Health</h3>
        </div>
        <div class="panel-body">
            @ViewBag.Notification.NotificationText
        </div>
    </div>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>#</th>
                <th>Timestamp</th>
                <th>Ambient Temp.</th>
            </tr>
        </thead>
        <tbody>
            @{ int i = 1; }
            @foreach (var temperature in ViewBag.Temperatures)
            {
                <tr>
                    <td>@i</td>
                    <td>@temperature.ReadDate</td>
                    <td>@temperature.Reading</td>
                </tr>
                i++;
            }
        </tbody>
    </table>

    <div class="row">
        <div class="col-xs-5 col-sm-3 col-md-2"><h4><b>Toggle Light: </b></h4></div>
        <div class="col-xs-2 col-sm-1 col-md-1"><a href="http://192.168.1.7:4738/light?status=on" class="btn btn-success btn-sm"><i class="fa fa-toggle-on"></i>&nbsp;ON</a></div>
        <div class="col-xs-1 col-md-1"><a href="http://192.168.1.7:4738/light?status=off" class="btn btn-danger btn-sm"><i class="fa fa-toggle-off"></i>&nbsp;OFF</a></div>
    </div>
</div>
